"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "_ssr_src_components_Scene_jsx";
exports.ids = ["_ssr_src_components_Scene_jsx"];
exports.modules = {

/***/ "(ssr)/./src/components/Scene.jsx":
/*!**********************************!*\
  !*** ./src/components/Scene.jsx ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ Scene)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _react_three_fiber__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @react-three/fiber */ \"(ssr)/./node_modules/@react-three/fiber/dist/react-three-fiber.esm.js\");\n/* harmony import */ var _react_three_drei__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @react-three/drei */ \"(ssr)/./node_modules/@react-three/drei/web/Html.js\");\n/* harmony import */ var _react_three_drei__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @react-three/drei */ \"(ssr)/./node_modules/@react-three/drei/core/OrbitControls.js\");\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! three */ \"(ssr)/./node_modules/three/build/three.module.js\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \n\n\n\n\nconst RENDERABLE_ELEMENTS = [\n    \"IfcWall\",\n    \"IfcWindow\",\n    \"IfcDoor\",\n    \"IfcSlab\",\n    \"IfcRoof\",\n    \"IfcStair\",\n    \"IfcRailing\",\n    \"IfcColumn\",\n    \"IfcBeam\"\n];\nfunction findTransform(node, allNodes) {\n    // Check if node has direct transform\n    if (node.attributes?.xformOp?.transform) {\n        return node.attributes.xformOp.transform;\n    }\n    // Check inherited transforms\n    if (node.inherits) {\n        for (const inheritPath of node.inherits){\n            // Extract name from path (remove </> characters)\n            const inheritedName = inheritPath.replace(/[</>]/g, \"\");\n            const inheritedNode = allNodes.find((n)=>n.name === inheritedName);\n            if (inheritedNode) {\n                const inheritedTransform = findTransform(inheritedNode, allNodes);\n                if (inheritedTransform) {\n                    return inheritedTransform;\n                }\n            }\n        }\n    }\n    // Return identity matrix if no transform found\n    return [\n        [\n            1,\n            0,\n            0,\n            0\n        ],\n        [\n            0,\n            1,\n            0,\n            0\n        ],\n        [\n            0,\n            0,\n            1,\n            0\n        ],\n        [\n            0,\n            0,\n            0,\n            1\n        ]\n    ];\n}\nfunction getMeshNodes(allNodes) {\n    console.log(\"getAllNodes received:\", allNodes?.length, \"nodes\");\n    if (!allNodes) {\n        console.warn(\"allNodes is null or undefined\");\n        return [];\n    }\n    const meshNodes = [];\n    // First find all IFC nodes\n    const ifcNodes = allNodes.filter((node)=>node.attributes?.[\"ifc5:class\"]?.code && RENDERABLE_ELEMENTS.includes(node.attributes[\"ifc5:class\"].code));\n    console.log(\"Found matching IFC nodes:\", ifcNodes.map((n)=>({\n            name: n.name,\n            class: n.attributes[\"ifc5:class\"].code\n        })));\n    // For each IFC node, find and merge all its body nodes\n    ifcNodes.forEach((ifcNode)=>{\n        const bodyNodes = allNodes.filter((n)=>n.name === `${ifcNode.name}_Body`);\n        if (bodyNodes.length === 0) {\n            console.warn(`No body nodes found for IFC node: ${ifcNode.name}`);\n            return;\n        }\n        // Merge all attributes from body nodes\n        const mergedAttributes = bodyNodes.reduce((acc, node)=>{\n            return {\n                ...acc,\n                ...node.attributes\n            };\n        }, {});\n        const geometry = mergedAttributes[\"UsdGeom:Mesh\"];\n        console.log(\"Looking for body of:\", ifcNode.name, {\n            found: bodyNodes.length > 0,\n            hasGeometry: !!geometry,\n            points: geometry?.points?.length,\n            indices: geometry?.faceVertexIndices?.length,\n            rawGeometry: geometry // Debug the raw geometry object\n        });\n        if (geometry?.points && geometry?.faceVertexIndices) {\n            // Find transformation by traversing inheritance chain\n            const transform = findTransform(ifcNode, allNodes);\n            console.log(\"Found transform for:\", ifcNode.name, {\n                transform,\n                inheritedFrom: ifcNode.inherits\n            });\n            // Transform points using both coordinate system correction and position transform\n            const transformedPoints = geometry.points.map((point)=>{\n                // First swap Y and Z for correct orientation\n                const [x, y, z] = point;\n                const reorientedPoint = [\n                    x,\n                    z,\n                    -y,\n                    1\n                ]; // Add homogeneous coordinate\n                // Apply transformation matrix\n                const transformed = [\n                    reorientedPoint[0] * transform[0][0] + reorientedPoint[1] * transform[0][1] + reorientedPoint[2] * transform[0][2] + transform[0][3],\n                    reorientedPoint[0] * transform[1][0] + reorientedPoint[1] * transform[1][1] + reorientedPoint[2] * transform[1][2] + transform[1][3],\n                    reorientedPoint[0] * transform[2][0] + reorientedPoint[1] * transform[2][1] + reorientedPoint[2] * transform[2][2] + transform[2][3]\n                ];\n                return transformed;\n            });\n            meshNodes.push({\n                ...ifcNode,\n                bodyGeometry: {\n                    ...geometry,\n                    points: transformedPoints\n                }\n            });\n            console.log(\"Added mesh node:\", ifcNode.name, {\n                hasTransform: !!transform,\n                transformMatrix: transform,\n                pointCount: transformedPoints.length,\n                indicesCount: geometry.faceVertexIndices.length\n            });\n        } else {\n            console.warn(`Geometry data incomplete for IFC node: ${ifcNode.name}`);\n        }\n    });\n    console.log(\"Final mesh nodes:\", meshNodes.length);\n    console.log(\"Mesh nodes details:\", meshNodes.map((node)=>({\n            name: node.name,\n            ifcClass: node.attributes?.[\"ifc5:class\"]?.code,\n            hasGeometry: !!node.bodyGeometry,\n            pointsCount: node.bodyGeometry?.points?.length,\n            indicesCount: node.bodyGeometry?.faceVertexIndices?.length\n        })));\n    return meshNodes;\n}\nfunction Mesh({ node, isSelected, onClick }) {\n    const meshRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)();\n    const [hovered, setHovered] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    if (!node.bodyGeometry?.points) {\n        console.warn(\"No points in geometry data for node:\", node.name);\n        return null;\n    }\n    const geometry = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>{\n        const vertices = node.bodyGeometry.points.map((point)=>new three__WEBPACK_IMPORTED_MODULE_2__.Vector3(point[0], point[1], point[2]));\n        const positions = new Float32Array(vertices.length * 3);\n        vertices.forEach((vertex, i)=>{\n            positions[i * 3] = vertex.x;\n            positions[i * 3 + 1] = vertex.y;\n            positions[i * 3 + 2] = vertex.z;\n        });\n        const geometry = new three__WEBPACK_IMPORTED_MODULE_2__.BufferGeometry();\n        geometry.setAttribute(\"position\", new three__WEBPACK_IMPORTED_MODULE_2__.BufferAttribute(positions, 3));\n        if (node.bodyGeometry.faceVertexIndices) {\n            geometry.setIndex(node.bodyGeometry.faceVertexIndices);\n        }\n        geometry.computeVertexNormals();\n        return geometry;\n    }, [\n        node.bodyGeometry\n    ]);\n    // Apply transform if available\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>{\n        if (node.attributes?.[\"xformOp\"]?.transform) {\n            const matrix = new three__WEBPACK_IMPORTED_MODULE_2__.Matrix4();\n            matrix.fromArray(node.attributes[\"xformOp\"].transform.flat());\n            geometry.applyMatrix4(matrix);\n        }\n    }, [\n        geometry,\n        node.attributes\n    ]);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"mesh\", {\n        ref: meshRef,\n        geometry: geometry,\n        onClick: (e)=>{\n            e.stopPropagation();\n            onClick();\n        },\n        onPointerOver: (e)=>{\n            e.stopPropagation();\n            setHovered(true);\n        },\n        onPointerOut: ()=>setHovered(false),\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"meshStandardMaterial\", {\n                color: isSelected ? \"#ff4444\" : hovered ? \"#dddddd\" : \"#cccccc\",\n                side: three__WEBPACK_IMPORTED_MODULE_2__.DoubleSide\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\CDRI\\\\VSCode Projects\\\\IFC5viewer\\\\src\\\\components\\\\Scene.jsx\",\n                lineNumber: 210,\n                columnNumber: 7\n            }, this),\n            hovered && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_react_three_drei__WEBPACK_IMPORTED_MODULE_3__.Html, {\n                distanceFactor: 10,\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"bg-white px-2 py-1 rounded shadow text-sm\",\n                    children: [\n                        node.name,\n                        \" (\",\n                        node.attributes[\"ifc5:class\"].code,\n                        \")\"\n                    ]\n                }, void 0, true, {\n                    fileName: \"C:\\\\Users\\\\CDRI\\\\VSCode Projects\\\\IFC5viewer\\\\src\\\\components\\\\Scene.jsx\",\n                    lineNumber: 216,\n                    columnNumber: 11\n                }, this)\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\CDRI\\\\VSCode Projects\\\\IFC5viewer\\\\src\\\\components\\\\Scene.jsx\",\n                lineNumber: 215,\n                columnNumber: 9\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"C:\\\\Users\\\\CDRI\\\\VSCode Projects\\\\IFC5viewer\\\\src\\\\components\\\\Scene.jsx\",\n        lineNumber: 197,\n        columnNumber: 5\n    }, this);\n}\nfunction Scene({ selectedNode, allNodes, onSelectNode }) {\n    console.log(\"Scene received allNodes:\", allNodes?.length);\n    const meshNodes = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>{\n        console.log(\"Running getMeshNodes...\");\n        return getMeshNodes(allNodes);\n    }, [\n        allNodes\n    ]);\n    // Debug render count\n    const renderCount = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(0);\n    renderCount.current++;\n    console.log(\"Scene render count:\", renderCount.current);\n    if (meshNodes.length === 0) {\n        console.log(\"No mesh nodes to render. RENDERABLE_ELEMENTS:\", RENDERABLE_ELEMENTS);\n    }\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        style: {\n            width: \"100%\",\n            height: \"100%\",\n            position: \"relative\"\n        },\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_react_three_fiber__WEBPACK_IMPORTED_MODULE_4__.Canvas, {\n            camera: {\n                position: [\n                    5,\n                    5,\n                    5\n                ],\n                fov: 50\n            },\n            style: {\n                background: \"#f0f0f0\"\n            },\n            onClick: ()=>onSelectNode(null),\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"ambientLight\", {\n                    intensity: 0.5\n                }, void 0, false, {\n                    fileName: \"C:\\\\Users\\\\CDRI\\\\VSCode Projects\\\\IFC5viewer\\\\src\\\\components\\\\Scene.jsx\",\n                    lineNumber: 249,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"directionalLight\", {\n                    position: [\n                        10,\n                        10,\n                        5\n                    ],\n                    intensity: 1\n                }, void 0, false, {\n                    fileName: \"C:\\\\Users\\\\CDRI\\\\VSCode Projects\\\\IFC5viewer\\\\src\\\\components\\\\Scene.jsx\",\n                    lineNumber: 250,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_react_three_drei__WEBPACK_IMPORTED_MODULE_5__.OrbitControls, {}, void 0, false, {\n                    fileName: \"C:\\\\Users\\\\CDRI\\\\VSCode Projects\\\\IFC5viewer\\\\src\\\\components\\\\Scene.jsx\",\n                    lineNumber: 251,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"axesHelper\", {\n                    args: [\n                        5\n                    ]\n                }, void 0, false, {\n                    fileName: \"C:\\\\Users\\\\CDRI\\\\VSCode Projects\\\\IFC5viewer\\\\src\\\\components\\\\Scene.jsx\",\n                    lineNumber: 252,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"gridHelper\", {\n                    args: [\n                        20,\n                        20\n                    ]\n                }, void 0, false, {\n                    fileName: \"C:\\\\Users\\\\CDRI\\\\VSCode Projects\\\\IFC5viewer\\\\src\\\\components\\\\Scene.jsx\",\n                    lineNumber: 253,\n                    columnNumber: 9\n                }, this),\n                meshNodes.length === 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_react_three_drei__WEBPACK_IMPORTED_MODULE_3__.Html, {\n                    position: [\n                        0,\n                        0,\n                        0\n                    ],\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"text-red-500\",\n                        children: \"No mesh nodes to display.\"\n                    }, void 0, false, {\n                        fileName: \"C:\\\\Users\\\\CDRI\\\\VSCode Projects\\\\IFC5viewer\\\\src\\\\components\\\\Scene.jsx\",\n                        lineNumber: 257,\n                        columnNumber: 13\n                    }, this)\n                }, void 0, false, {\n                    fileName: \"C:\\\\Users\\\\CDRI\\\\VSCode Projects\\\\IFC5viewer\\\\src\\\\components\\\\Scene.jsx\",\n                    lineNumber: 256,\n                    columnNumber: 11\n                }, this),\n                meshNodes.map((node, index)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(Mesh, {\n                        node: node,\n                        isSelected: node === selectedNode,\n                        onClick: ()=>onSelectNode(node)\n                    }, node.name || index, false, {\n                        fileName: \"C:\\\\Users\\\\CDRI\\\\VSCode Projects\\\\IFC5viewer\\\\src\\\\components\\\\Scene.jsx\",\n                        lineNumber: 262,\n                        columnNumber: 11\n                    }, this))\n            ]\n        }, void 0, true, {\n            fileName: \"C:\\\\Users\\\\CDRI\\\\VSCode Projects\\\\IFC5viewer\\\\src\\\\components\\\\Scene.jsx\",\n            lineNumber: 244,\n            columnNumber: 7\n        }, this)\n    }, void 0, false, {\n        fileName: \"C:\\\\Users\\\\CDRI\\\\VSCode Projects\\\\IFC5viewer\\\\src\\\\components\\\\Scene.jsx\",\n        lineNumber: 243,\n        columnNumber: 5\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LEdBQUcsQ0FBQyxpREFBaURsQjtJQUMvRDtJQUVBLHFCQUNFLDhEQUFDMEY7UUFBSU8sT0FBTztZQUFFQyxPQUFPO1lBQVFDLFFBQVE7WUFBUUMsVUFBVTtRQUFXO2tCQUNoRSw0RUFBQ3hHLHNEQUFNQTtZQUNMeUcsUUFBUTtnQkFBRUQsVUFBVTtvQkFBQztvQkFBRztvQkFBRztpQkFBRTtnQkFBRUUsS0FBSztZQUFHO1lBQ3ZDTCxPQUFPO2dCQUFFTSxZQUFZO1lBQVU7WUFDL0I1QyxTQUFTLElBQU1tQyxhQUFhOzs4QkFFNUIsOERBQUNVO29CQUFhQyxXQUFXOzs7Ozs7OEJBQ3pCLDhEQUFDQztvQkFBaUJOLFVBQVU7d0JBQUM7d0JBQUk7d0JBQUk7cUJBQUU7b0JBQUVLLFdBQVc7Ozs7Ozs4QkFDcEQsOERBQUM1Ryw0REFBYUE7Ozs7OzhCQUNkLDhEQUFDOEc7b0JBQVdDLE1BQU07d0JBQUM7cUJBQUU7Ozs7Ozs4QkFDckIsOERBQUNDO29CQUFXRCxNQUFNO3dCQUFDO3dCQUFJO3FCQUFHOzs7Ozs7Z0JBRXpCdkYsVUFBVUYsTUFBTSxLQUFLLG1CQUNwQiw4REFBQ3JCLG1EQUFJQTtvQkFBQ3NHLFVBQVU7d0JBQUM7d0JBQUc7d0JBQUc7cUJBQUU7OEJBQ3ZCLDRFQUFDVjt3QkFBSUMsV0FBVTtrQ0FBZTs7Ozs7Ozs7Ozs7Z0JBSWpDdEUsVUFBVUssR0FBRyxDQUFDLENBQUN4QixNQUFNNEcsc0JBQ3BCLDhEQUFDckQ7d0JBRUN2RCxNQUFNQTt3QkFDTndELFlBQVl4RCxTQUFTMkY7d0JBQ3JCbEMsU0FBUyxJQUFNbUMsYUFBYTVGO3VCQUh2QkEsS0FBS1ksSUFBSSxJQUFJZ0c7Ozs7Ozs7Ozs7Ozs7Ozs7QUFTOUIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9pZmM1LXZpZXdlci8uL3NyYy9jb21wb25lbnRzL1NjZW5lLmpzeD9hN2I3Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIGNsaWVudFwiXHJcblxyXG5pbXBvcnQgeyB1c2VSZWYsIHVzZU1lbW8sIHVzZVN0YXRlLCB1c2VFZmZlY3QgfSBmcm9tICdyZWFjdCdcclxuaW1wb3J0IHsgQ2FudmFzIH0gZnJvbSAnQHJlYWN0LXRocmVlL2ZpYmVyJ1xyXG5pbXBvcnQgeyBPcmJpdENvbnRyb2xzLCBIdG1sIH0gZnJvbSAnQHJlYWN0LXRocmVlL2RyZWknXHJcbmltcG9ydCAqIGFzIFRIUkVFIGZyb20gJ3RocmVlJ1xyXG5cclxuY29uc3QgUkVOREVSQUJMRV9FTEVNRU5UUyA9IFtcclxuICAnSWZjV2FsbCcsXHJcbiAgJ0lmY1dpbmRvdycsXHJcbiAgJ0lmY0Rvb3InLFxyXG4gICdJZmNTbGFiJyxcclxuICAnSWZjUm9vZicsXHJcbiAgJ0lmY1N0YWlyJyxcclxuICAnSWZjUmFpbGluZycsXHJcbiAgJ0lmY0NvbHVtbicsXHJcbiAgJ0lmY0JlYW0nXHJcbl07XHJcblxyXG5mdW5jdGlvbiBmaW5kVHJhbnNmb3JtKG5vZGUsIGFsbE5vZGVzKSB7XHJcbiAgLy8gQ2hlY2sgaWYgbm9kZSBoYXMgZGlyZWN0IHRyYW5zZm9ybVxyXG4gIGlmIChub2RlLmF0dHJpYnV0ZXM/Lnhmb3JtT3A/LnRyYW5zZm9ybSkge1xyXG4gICAgcmV0dXJuIG5vZGUuYXR0cmlidXRlcy54Zm9ybU9wLnRyYW5zZm9ybTtcclxuICB9XHJcblxyXG4gIC8vIENoZWNrIGluaGVyaXRlZCB0cmFuc2Zvcm1zXHJcbiAgaWYgKG5vZGUuaW5oZXJpdHMpIHtcclxuICAgIGZvciAoY29uc3QgaW5oZXJpdFBhdGggb2Ygbm9kZS5pbmhlcml0cykge1xyXG4gICAgICAvLyBFeHRyYWN0IG5hbWUgZnJvbSBwYXRoIChyZW1vdmUgPC8+IGNoYXJhY3RlcnMpXHJcbiAgICAgIGNvbnN0IGluaGVyaXRlZE5hbWUgPSBpbmhlcml0UGF0aC5yZXBsYWNlKC9bPC8+XS9nLCAnJyk7XHJcbiAgICAgIGNvbnN0IGluaGVyaXRlZE5vZGUgPSBhbGxOb2Rlcy5maW5kKG4gPT4gbi5uYW1lID09PSBpbmhlcml0ZWROYW1lKTtcclxuICAgICAgXHJcbiAgICAgIGlmIChpbmhlcml0ZWROb2RlKSB7XHJcbiAgICAgICAgY29uc3QgaW5oZXJpdGVkVHJhbnNmb3JtID0gZmluZFRyYW5zZm9ybShpbmhlcml0ZWROb2RlLCBhbGxOb2Rlcyk7XHJcbiAgICAgICAgaWYgKGluaGVyaXRlZFRyYW5zZm9ybSkge1xyXG4gICAgICAgICAgcmV0dXJuIGluaGVyaXRlZFRyYW5zZm9ybTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8vIFJldHVybiBpZGVudGl0eSBtYXRyaXggaWYgbm8gdHJhbnNmb3JtIGZvdW5kXHJcbiAgcmV0dXJuIFtcclxuICAgIFsxLCAwLCAwLCAwXSxcclxuICAgIFswLCAxLCAwLCAwXSxcclxuICAgIFswLCAwLCAxLCAwXSxcclxuICAgIFswLCAwLCAwLCAxXVxyXG4gIF07XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGdldE1lc2hOb2RlcyhhbGxOb2Rlcykge1xyXG4gIGNvbnNvbGUubG9nKCdnZXRBbGxOb2RlcyByZWNlaXZlZDonLCBhbGxOb2Rlcz8ubGVuZ3RoLCAnbm9kZXMnKTtcclxuICBcclxuICBpZiAoIWFsbE5vZGVzKSB7XHJcbiAgICBjb25zb2xlLndhcm4oJ2FsbE5vZGVzIGlzIG51bGwgb3IgdW5kZWZpbmVkJyk7XHJcbiAgICByZXR1cm4gW107XHJcbiAgfVxyXG5cclxuICBjb25zdCBtZXNoTm9kZXMgPSBbXTtcclxuICBcclxuICAvLyBGaXJzdCBmaW5kIGFsbCBJRkMgbm9kZXNcclxuICBjb25zdCBpZmNOb2RlcyA9IGFsbE5vZGVzLmZpbHRlcihub2RlID0+IFxyXG4gICAgbm9kZS5hdHRyaWJ1dGVzPy5bJ2lmYzU6Y2xhc3MnXT8uY29kZSAmJiBcclxuICAgIFJFTkRFUkFCTEVfRUxFTUVOVFMuaW5jbHVkZXMobm9kZS5hdHRyaWJ1dGVzWydpZmM1OmNsYXNzJ10uY29kZSlcclxuICApO1xyXG4gIFxyXG4gIGNvbnNvbGUubG9nKCdGb3VuZCBtYXRjaGluZyBJRkMgbm9kZXM6JywgaWZjTm9kZXMubWFwKG4gPT4gKHtcclxuICAgIG5hbWU6IG4ubmFtZSxcclxuICAgIGNsYXNzOiBuLmF0dHJpYnV0ZXNbJ2lmYzU6Y2xhc3MnXS5jb2RlXHJcbiAgfSkpKTtcclxuXHJcbiAgLy8gRm9yIGVhY2ggSUZDIG5vZGUsIGZpbmQgYW5kIG1lcmdlIGFsbCBpdHMgYm9keSBub2Rlc1xyXG4gIGlmY05vZGVzLmZvckVhY2goaWZjTm9kZSA9PiB7XHJcbiAgICBjb25zdCBib2R5Tm9kZXMgPSBhbGxOb2Rlcy5maWx0ZXIobiA9PiBuLm5hbWUgPT09IGAke2lmY05vZGUubmFtZX1fQm9keWApO1xyXG4gICAgXHJcbiAgICBpZiAoYm9keU5vZGVzLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICBjb25zb2xlLndhcm4oYE5vIGJvZHkgbm9kZXMgZm91bmQgZm9yIElGQyBub2RlOiAke2lmY05vZGUubmFtZX1gKTtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIE1lcmdlIGFsbCBhdHRyaWJ1dGVzIGZyb20gYm9keSBub2Rlc1xyXG4gICAgY29uc3QgbWVyZ2VkQXR0cmlidXRlcyA9IGJvZHlOb2Rlcy5yZWR1Y2UoKGFjYywgbm9kZSkgPT4ge1xyXG4gICAgICByZXR1cm4geyAuLi5hY2MsIC4uLm5vZGUuYXR0cmlidXRlcyB9O1xyXG4gICAgfSwge30pO1xyXG5cclxuICAgIGNvbnN0IGdlb21ldHJ5ID0gbWVyZ2VkQXR0cmlidXRlc1snVXNkR2VvbTpNZXNoJ107XHJcblxyXG4gICAgY29uc29sZS5sb2coJ0xvb2tpbmcgZm9yIGJvZHkgb2Y6JywgaWZjTm9kZS5uYW1lLCB7XHJcbiAgICAgIGZvdW5kOiBib2R5Tm9kZXMubGVuZ3RoID4gMCxcclxuICAgICAgaGFzR2VvbWV0cnk6ICEhZ2VvbWV0cnksXHJcbiAgICAgIHBvaW50czogZ2VvbWV0cnk/LnBvaW50cz8ubGVuZ3RoLFxyXG4gICAgICBpbmRpY2VzOiBnZW9tZXRyeT8uZmFjZVZlcnRleEluZGljZXM/Lmxlbmd0aCxcclxuICAgICAgcmF3R2VvbWV0cnk6IGdlb21ldHJ5IC8vIERlYnVnIHRoZSByYXcgZ2VvbWV0cnkgb2JqZWN0XHJcbiAgICB9KTtcclxuXHJcbiAgICBpZiAoZ2VvbWV0cnk/LnBvaW50cyAmJiBnZW9tZXRyeT8uZmFjZVZlcnRleEluZGljZXMpIHtcclxuICAgICAgLy8gRmluZCB0cmFuc2Zvcm1hdGlvbiBieSB0cmF2ZXJzaW5nIGluaGVyaXRhbmNlIGNoYWluXHJcbiAgICAgIGNvbnN0IHRyYW5zZm9ybSA9IGZpbmRUcmFuc2Zvcm0oaWZjTm9kZSwgYWxsTm9kZXMpO1xyXG4gICAgICBcclxuICAgICAgY29uc29sZS5sb2coJ0ZvdW5kIHRyYW5zZm9ybSBmb3I6JywgaWZjTm9kZS5uYW1lLCB7XHJcbiAgICAgICAgdHJhbnNmb3JtLFxyXG4gICAgICAgIGluaGVyaXRlZEZyb206IGlmY05vZGUuaW5oZXJpdHNcclxuICAgICAgfSk7XHJcblxyXG4gICAgICAvLyBUcmFuc2Zvcm0gcG9pbnRzIHVzaW5nIGJvdGggY29vcmRpbmF0ZSBzeXN0ZW0gY29ycmVjdGlvbiBhbmQgcG9zaXRpb24gdHJhbnNmb3JtXHJcbiAgICAgIGNvbnN0IHRyYW5zZm9ybWVkUG9pbnRzID0gZ2VvbWV0cnkucG9pbnRzLm1hcChwb2ludCA9PiB7XHJcbiAgICAgICAgLy8gRmlyc3Qgc3dhcCBZIGFuZCBaIGZvciBjb3JyZWN0IG9yaWVudGF0aW9uXHJcbiAgICAgICAgY29uc3QgW3gsIHksIHpdID0gcG9pbnQ7XHJcbiAgICAgICAgY29uc3QgcmVvcmllbnRlZFBvaW50ID0gW3gsIHosIC15LCAxXTsgLy8gQWRkIGhvbW9nZW5lb3VzIGNvb3JkaW5hdGVcclxuXHJcbiAgICAgICAgLy8gQXBwbHkgdHJhbnNmb3JtYXRpb24gbWF0cml4XHJcbiAgICAgICAgY29uc3QgdHJhbnNmb3JtZWQgPSBbXHJcbiAgICAgICAgICByZW9yaWVudGVkUG9pbnRbMF0gKiB0cmFuc2Zvcm1bMF1bMF0gKyByZW9yaWVudGVkUG9pbnRbMV0gKiB0cmFuc2Zvcm1bMF1bMV0gKyBcclxuICAgICAgICAgIHJlb3JpZW50ZWRQb2ludFsyXSAqIHRyYW5zZm9ybVswXVsyXSArIHRyYW5zZm9ybVswXVszXSxcclxuICAgICAgICAgIHJlb3JpZW50ZWRQb2ludFswXSAqIHRyYW5zZm9ybVsxXVswXSArIHJlb3JpZW50ZWRQb2ludFsxXSAqIHRyYW5zZm9ybVsxXVsxXSArIFxyXG4gICAgICAgICAgcmVvcmllbnRlZFBvaW50WzJdICogdHJhbnNmb3JtWzFdWzJdICsgdHJhbnNmb3JtWzFdWzNdLFxyXG4gICAgICAgICAgcmVvcmllbnRlZFBvaW50WzBdICogdHJhbnNmb3JtWzJdWzBdICsgcmVvcmllbnRlZFBvaW50WzFdICogdHJhbnNmb3JtWzJdWzFdICsgXHJcbiAgICAgICAgICByZW9yaWVudGVkUG9pbnRbMl0gKiB0cmFuc2Zvcm1bMl1bMl0gKyB0cmFuc2Zvcm1bMl1bM11cclxuICAgICAgICBdO1xyXG5cclxuICAgICAgICByZXR1cm4gdHJhbnNmb3JtZWQ7XHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgbWVzaE5vZGVzLnB1c2goe1xyXG4gICAgICAgIC4uLmlmY05vZGUsXHJcbiAgICAgICAgYm9keUdlb21ldHJ5OiB7XHJcbiAgICAgICAgICAuLi5nZW9tZXRyeSxcclxuICAgICAgICAgIHBvaW50czogdHJhbnNmb3JtZWRQb2ludHNcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG4gICAgICBcclxuICAgICAgY29uc29sZS5sb2coJ0FkZGVkIG1lc2ggbm9kZTonLCBpZmNOb2RlLm5hbWUsIHtcclxuICAgICAgICBoYXNUcmFuc2Zvcm06ICEhdHJhbnNmb3JtLFxyXG4gICAgICAgIHRyYW5zZm9ybU1hdHJpeDogdHJhbnNmb3JtLFxyXG4gICAgICAgIHBvaW50Q291bnQ6IHRyYW5zZm9ybWVkUG9pbnRzLmxlbmd0aCxcclxuICAgICAgICBpbmRpY2VzQ291bnQ6IGdlb21ldHJ5LmZhY2VWZXJ0ZXhJbmRpY2VzLmxlbmd0aFxyXG4gICAgICB9KTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGNvbnNvbGUud2FybihgR2VvbWV0cnkgZGF0YSBpbmNvbXBsZXRlIGZvciBJRkMgbm9kZTogJHtpZmNOb2RlLm5hbWV9YCk7XHJcbiAgICB9XHJcbiAgfSk7XHJcblxyXG4gIGNvbnNvbGUubG9nKCdGaW5hbCBtZXNoIG5vZGVzOicsIG1lc2hOb2Rlcy5sZW5ndGgpO1xyXG4gIGNvbnNvbGUubG9nKCdNZXNoIG5vZGVzIGRldGFpbHM6JywgbWVzaE5vZGVzLm1hcChub2RlID0+ICh7XHJcbiAgICBuYW1lOiBub2RlLm5hbWUsXHJcbiAgICBpZmNDbGFzczogbm9kZS5hdHRyaWJ1dGVzPy5bJ2lmYzU6Y2xhc3MnXT8uY29kZSxcclxuICAgIGhhc0dlb21ldHJ5OiAhIW5vZGUuYm9keUdlb21ldHJ5LFxyXG4gICAgcG9pbnRzQ291bnQ6IG5vZGUuYm9keUdlb21ldHJ5Py5wb2ludHM/Lmxlbmd0aCxcclxuICAgIGluZGljZXNDb3VudDogbm9kZS5ib2R5R2VvbWV0cnk/LmZhY2VWZXJ0ZXhJbmRpY2VzPy5sZW5ndGhcclxuICB9KSkpO1xyXG5cclxuICByZXR1cm4gbWVzaE5vZGVzO1xyXG59XHJcblxyXG5mdW5jdGlvbiBNZXNoKHsgbm9kZSwgaXNTZWxlY3RlZCwgb25DbGljayB9KSB7XHJcbiAgY29uc3QgbWVzaFJlZiA9IHVzZVJlZigpXHJcbiAgY29uc3QgW2hvdmVyZWQsIHNldEhvdmVyZWRdID0gdXNlU3RhdGUoZmFsc2UpXHJcbiAgXHJcbiAgaWYgKCFub2RlLmJvZHlHZW9tZXRyeT8ucG9pbnRzKSB7XHJcbiAgICBjb25zb2xlLndhcm4oJ05vIHBvaW50cyBpbiBnZW9tZXRyeSBkYXRhIGZvciBub2RlOicsIG5vZGUubmFtZSlcclxuICAgIHJldHVybiBudWxsXHJcbiAgfVxyXG5cclxuICBjb25zdCBnZW9tZXRyeSA9IHVzZU1lbW8oKCkgPT4ge1xyXG4gICAgY29uc3QgdmVydGljZXMgPSBub2RlLmJvZHlHZW9tZXRyeS5wb2ludHMubWFwKHBvaW50ID0+IFxyXG4gICAgICBuZXcgVEhSRUUuVmVjdG9yMyhwb2ludFswXSwgcG9pbnRbMV0sIHBvaW50WzJdKVxyXG4gICAgKVxyXG4gICAgXHJcbiAgICBjb25zdCBwb3NpdGlvbnMgPSBuZXcgRmxvYXQzMkFycmF5KHZlcnRpY2VzLmxlbmd0aCAqIDMpXHJcbiAgICB2ZXJ0aWNlcy5mb3JFYWNoKCh2ZXJ0ZXgsIGkpID0+IHtcclxuICAgICAgcG9zaXRpb25zW2kgKiAzXSA9IHZlcnRleC54XHJcbiAgICAgIHBvc2l0aW9uc1tpICogMyArIDFdID0gdmVydGV4LnlcclxuICAgICAgcG9zaXRpb25zW2kgKiAzICsgMl0gPSB2ZXJ0ZXguelxyXG4gICAgfSlcclxuXHJcbiAgICBjb25zdCBnZW9tZXRyeSA9IG5ldyBUSFJFRS5CdWZmZXJHZW9tZXRyeSgpXHJcbiAgICBnZW9tZXRyeS5zZXRBdHRyaWJ1dGUoJ3Bvc2l0aW9uJywgbmV3IFRIUkVFLkJ1ZmZlckF0dHJpYnV0ZShwb3NpdGlvbnMsIDMpKVxyXG4gICAgXHJcbiAgICBpZiAobm9kZS5ib2R5R2VvbWV0cnkuZmFjZVZlcnRleEluZGljZXMpIHtcclxuICAgICAgZ2VvbWV0cnkuc2V0SW5kZXgobm9kZS5ib2R5R2VvbWV0cnkuZmFjZVZlcnRleEluZGljZXMpXHJcbiAgICB9XHJcbiAgICBcclxuICAgIGdlb21ldHJ5LmNvbXB1dGVWZXJ0ZXhOb3JtYWxzKClcclxuICAgIHJldHVybiBnZW9tZXRyeVxyXG4gIH0sIFtub2RlLmJvZHlHZW9tZXRyeV0pXHJcblxyXG4gIC8vIEFwcGx5IHRyYW5zZm9ybSBpZiBhdmFpbGFibGVcclxuICB1c2VNZW1vKCgpID0+IHtcclxuICAgIGlmIChub2RlLmF0dHJpYnV0ZXM/LlsneGZvcm1PcCddPy50cmFuc2Zvcm0pIHtcclxuICAgICAgY29uc3QgbWF0cml4ID0gbmV3IFRIUkVFLk1hdHJpeDQoKVxyXG4gICAgICBtYXRyaXguZnJvbUFycmF5KG5vZGUuYXR0cmlidXRlc1sneGZvcm1PcCddLnRyYW5zZm9ybS5mbGF0KCkpXHJcbiAgICAgIGdlb21ldHJ5LmFwcGx5TWF0cml4NChtYXRyaXgpXHJcbiAgICB9XHJcbiAgfSwgW2dlb21ldHJ5LCBub2RlLmF0dHJpYnV0ZXNdKVxyXG5cclxuICByZXR1cm4gKFxyXG4gICAgPG1lc2ggXHJcbiAgICAgIHJlZj17bWVzaFJlZn0gXHJcbiAgICAgIGdlb21ldHJ5PXtnZW9tZXRyeX1cclxuICAgICAgb25DbGljaz17KGUpID0+IHtcclxuICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpXHJcbiAgICAgICAgb25DbGljaygpXHJcbiAgICAgIH19XHJcbiAgICAgIG9uUG9pbnRlck92ZXI9eyhlKSA9PiB7XHJcbiAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKVxyXG4gICAgICAgIHNldEhvdmVyZWQodHJ1ZSlcclxuICAgICAgfX1cclxuICAgICAgb25Qb2ludGVyT3V0PXsoKSA9PiBzZXRIb3ZlcmVkKGZhbHNlKX1cclxuICAgID5cclxuICAgICAgPG1lc2hTdGFuZGFyZE1hdGVyaWFsIFxyXG4gICAgICAgIGNvbG9yPXtpc1NlbGVjdGVkID8gXCIjZmY0NDQ0XCIgOiBob3ZlcmVkID8gXCIjZGRkZGRkXCIgOiBcIiNjY2NjY2NcIn0gXHJcbiAgICAgICAgc2lkZT17VEhSRUUuRG91YmxlU2lkZX0gXHJcbiAgICAgIC8+XHJcbiAgICAgIHtob3ZlcmVkICYmIChcclxuICAgICAgICA8SHRtbCBkaXN0YW5jZUZhY3Rvcj17MTB9PlxyXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJiZy13aGl0ZSBweC0yIHB5LTEgcm91bmRlZCBzaGFkb3cgdGV4dC1zbVwiPlxyXG4gICAgICAgICAgICB7bm9kZS5uYW1lfSAoe25vZGUuYXR0cmlidXRlc1snaWZjNTpjbGFzcyddLmNvZGV9KVxyXG4gICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPC9IdG1sPlxyXG4gICAgICApfVxyXG4gICAgPC9tZXNoPlxyXG4gIClcclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gU2NlbmUoeyBzZWxlY3RlZE5vZGUsIGFsbE5vZGVzLCBvblNlbGVjdE5vZGUgfSkge1xyXG4gIGNvbnNvbGUubG9nKCdTY2VuZSByZWNlaXZlZCBhbGxOb2RlczonLCBhbGxOb2Rlcz8ubGVuZ3RoKTtcclxuICBcclxuICBjb25zdCBtZXNoTm9kZXMgPSB1c2VNZW1vKCgpID0+IHtcclxuICAgIGNvbnNvbGUubG9nKCdSdW5uaW5nIGdldE1lc2hOb2Rlcy4uLicpO1xyXG4gICAgcmV0dXJuIGdldE1lc2hOb2RlcyhhbGxOb2Rlcyk7XHJcbiAgfSwgW2FsbE5vZGVzXSk7XHJcblxyXG4gIC8vIERlYnVnIHJlbmRlciBjb3VudFxyXG4gIGNvbnN0IHJlbmRlckNvdW50ID0gdXNlUmVmKDApO1xyXG4gIHJlbmRlckNvdW50LmN1cnJlbnQrKztcclxuICBjb25zb2xlLmxvZygnU2NlbmUgcmVuZGVyIGNvdW50OicsIHJlbmRlckNvdW50LmN1cnJlbnQpO1xyXG5cclxuICBpZiAobWVzaE5vZGVzLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgY29uc29sZS5sb2coJ05vIG1lc2ggbm9kZXMgdG8gcmVuZGVyLiBSRU5ERVJBQkxFX0VMRU1FTlRTOicsIFJFTkRFUkFCTEVfRUxFTUVOVFMpO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIChcclxuICAgIDxkaXYgc3R5bGU9e3sgd2lkdGg6ICcxMDAlJywgaGVpZ2h0OiAnMTAwJScsIHBvc2l0aW9uOiAncmVsYXRpdmUnIH19PlxyXG4gICAgICA8Q2FudmFzXHJcbiAgICAgICAgY2FtZXJhPXt7IHBvc2l0aW9uOiBbNSwgNSwgNV0sIGZvdjogNTAgfX1cclxuICAgICAgICBzdHlsZT17eyBiYWNrZ3JvdW5kOiAnI2YwZjBmMCcgfX1cclxuICAgICAgICBvbkNsaWNrPXsoKSA9PiBvblNlbGVjdE5vZGUobnVsbCl9XHJcbiAgICAgID5cclxuICAgICAgICA8YW1iaWVudExpZ2h0IGludGVuc2l0eT17MC41fSAvPlxyXG4gICAgICAgIDxkaXJlY3Rpb25hbExpZ2h0IHBvc2l0aW9uPXtbMTAsIDEwLCA1XX0gaW50ZW5zaXR5PXsxfSAvPlxyXG4gICAgICAgIDxPcmJpdENvbnRyb2xzIC8+XHJcbiAgICAgICAgPGF4ZXNIZWxwZXIgYXJncz17WzVdfSAvPlxyXG4gICAgICAgIDxncmlkSGVscGVyIGFyZ3M9e1syMCwgMjBdfSAvPlxyXG4gICAgICAgIFxyXG4gICAgICAgIHttZXNoTm9kZXMubGVuZ3RoID09PSAwICYmIChcclxuICAgICAgICAgIDxIdG1sIHBvc2l0aW9uPXtbMCwgMCwgMF19PlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtcmVkLTUwMFwiPk5vIG1lc2ggbm9kZXMgdG8gZGlzcGxheS48L2Rpdj5cclxuICAgICAgICAgIDwvSHRtbD5cclxuICAgICAgICApfVxyXG4gICAgICAgIFxyXG4gICAgICAgIHttZXNoTm9kZXMubWFwKChub2RlLCBpbmRleCkgPT4gKFxyXG4gICAgICAgICAgPE1lc2ggXHJcbiAgICAgICAgICAgIGtleT17bm9kZS5uYW1lIHx8IGluZGV4fVxyXG4gICAgICAgICAgICBub2RlPXtub2RlfVxyXG4gICAgICAgICAgICBpc1NlbGVjdGVkPXtub2RlID09PSBzZWxlY3RlZE5vZGV9XHJcbiAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IG9uU2VsZWN0Tm9kZShub2RlKX1cclxuICAgICAgICAgIC8+XHJcbiAgICAgICAgKSl9XHJcbiAgICAgIDwvQ2FudmFzPlxyXG4gICAgPC9kaXY+XHJcbiAgKVxyXG59Il0sIm5hbWVzIjpbInVzZVJlZiIsInVzZU1lbW8iLCJ1c2VTdGF0ZSIsInVzZUVmZmVjdCIsIkNhbnZhcyIsIk9yYml0Q29udHJvbHMiLCJIdG1sIiwiVEhSRUUiLCJSRU5ERVJBQkxFX0VMRU1FTlRTIiwiZmluZFRyYW5zZm9ybSIsIm5vZGUiLCJhbGxOb2RlcyIsImF0dHJpYnV0ZXMiLCJ4Zm9ybU9wIiwidHJhbnNmb3JtIiwiaW5oZXJpdHMiLCJpbmhlcml0UGF0aCIsImluaGVyaXRlZE5hbWUiLCJyZXBsYWNlIiwiaW5oZXJpdGVkTm9kZSIsImZpbmQiLCJuIiwibmFtZSIsImluaGVyaXRlZFRyYW5zZm9ybSIsImdldE1lc2hOb2RlcyIsImNvbnNvbGUiLCJsb2ciLCJsZW5ndGgiLCJ3YXJuIiwibWVzaE5vZGVzIiwiaWZjTm9kZXMiLCJmaWx0ZXIiLCJjb2RlIiwiaW5jbHVkZXMiLCJtYXAiLCJjbGFzcyIsImZvckVhY2giLCJpZmNOb2RlIiwiYm9keU5vZGVzIiwibWVyZ2VkQXR0cmlidXRlcyIsInJlZHVjZSIsImFjYyIsImdlb21ldHJ5IiwiZm91bmQiLCJoYXNHZW9tZXRyeSIsInBvaW50cyIsImluZGljZXMiLCJmYWNlVmVydGV4SW5kaWNlcyIsInJhd0dlb21ldHJ5IiwiaW5oZXJpdGVkRnJvbSIsInRyYW5zZm9ybWVkUG9pbnRzIiwicG9pbnQiLCJ4IiwieSIsInoiLCJyZW9yaWVudGVkUG9pbnQiLCJ0cmFuc2Zvcm1lZCIsInB1c2giLCJib2R5R2VvbWV0cnkiLCJoYXNUcmFuc2Zvcm0iLCJ0cmFuc2Zvcm1NYXRyaXgiLCJwb2ludENvdW50IiwiaW5kaWNlc0NvdW50IiwiaWZjQ2xhc3MiLCJwb2ludHNDb3VudCIsIk1lc2giLCJpc1NlbGVjdGVkIiwib25DbGljayIsIm1lc2hSZWYiLCJob3ZlcmVkIiwic2V0SG92ZXJlZCIsInZlcnRpY2VzIiwiVmVjdG9yMyIsInBvc2l0aW9ucyIsIkZsb2F0MzJBcnJheSIsInZlcnRleCIsImkiLCJCdWZmZXJHZW9tZXRyeSIsInNldEF0dHJpYnV0ZSIsIkJ1ZmZlckF0dHJpYnV0ZSIsInNldEluZGV4IiwiY29tcHV0ZVZlcnRleE5vcm1hbHMiLCJtYXRyaXgiLCJNYXRyaXg0IiwiZnJvbUFycmF5IiwiZmxhdCIsImFwcGx5TWF0cml4NCIsIm1lc2giLCJyZWYiLCJlIiwic3RvcFByb3BhZ2F0aW9uIiwib25Qb2ludGVyT3ZlciIsIm9uUG9pbnRlck91dCIsIm1lc2hTdGFuZGFyZE1hdGVyaWFsIiwiY29sb3IiLCJzaWRlIiwiRG91YmxlU2lkZSIsImRpc3RhbmNlRmFjdG9yIiwiZGl2IiwiY2xhc3NOYW1lIiwiU2NlbmUiLCJzZWxlY3RlZE5vZGUiLCJvblNlbGVjdE5vZGUiLCJyZW5kZXJDb3VudCIsImN1cnJlbnQiLCJzdHlsZSIsIndpZHRoIiwiaGVpZ2h0IiwicG9zaXRpb24iLCJjYW1lcmEiLCJmb3YiLCJiYWNrZ3JvdW5kIiwiYW1iaWVudExpZ2h0IiwiaW50ZW5zaXR5IiwiZGlyZWN0aW9uYWxMaWdodCIsImF4ZXNIZWxwZXIiLCJhcmdzIiwiZ3JpZEhlbHBlciIsImluZGV4Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./src/components/Scene.jsx\n");

/***/ })

};
;